{
    "name": "Enforce-Resource-Tags",
    "type": "Microsoft.Authorization/policyDefinitions",
    "apiVersion": "2021-06-01",
    "scope": null,
        "properties": {
        "displayName": "Resources must have mandatory tagging applied",
        "policyType": "Custom",
        "mode": "Indexed",
        "description": "Enforce mandatory tags on Resources",
        "metadata": {
            "version": "1.0.0",
            "category": "Tags"
        },
        "policyRule": {
            "if": {
                "anyof": [
                    {
                        "field": "[concat('tags[', parameters('EnforceResourceTags-BusinessUnit'), ']')]",
                        "exists": "false"
                    },
                    {
                        "field": "[concat('tags[', parameters('EnforceResourceTags-CompanyAbbreviation'), ']')]",
                        "exists": "false"
                    },
                    {
                        "field": "[concat('tags[', parameters('EnforceResourceTags-CostCenter'), ']')]",
                        "exists": "false"
                    },
                    {
                        "field": "[concat('tags[', parameters('EnforceResourceTags-ServiceOwner'), ']')]",
                        "exists": "false"
                    },
                    {
                        "field": "[concat('tags[', parameters('EnforceResourceTags-ServiceOwnerBackup'), ']')]",
                        "exists": "false"
                    },
                    {
                        "field": "[concat('tags[', parameters('EnforceResourceTags-ApprovalReference'), ']')]",
                        "exists": "false"
                    },
                    {
                        "field": "[concat('tags[', parameters('EnforceResourceTags-OperationalTeam'), ']')]",
                        "exists": "false"
                    },
                    {
                        "field": "[concat('tags[', parameters('EnforceResourceTags-DataClassification'), ']')]",
                        "exists": "false"
                    },
                    {
                        "field": "[concat('tags[', parameters('EnforceResourceTags-BusinessCriticality'), ']')]",
                        "exists": "false"
                    },
                    {
                        "field": "[concat('tags[', parameters('EnforceResourceTags-Environment'), ']')]",
                        "exists": "false"
                    },
                    {
                        "field": "[concat('tags[', parameters('EnforceResourceTags-ServiceNumber'), ']')]",
                        "exists": "false"
                    },
                    {
                        "field": "[concat('tags[', parameters('EnforceResourceTags-ServiceName'), ']')]",
                        "exists": "false"
                    }
                    ]
            },
            "then": {
                "effect": "deny"
                }
            },    
            "parameters": {
                "EnforceResourceTags-BusinessUnit": {
                    "type": "String",
                    "metadata": {
                      "displayName": "BusinessUnit",
                      "description": "Specifies the BusinessUnit of the Resource Group"
                    }
                },
                "EnforceResourceTags-CompanyAbbreviation": {
                    "type": "String",
                    "metadata": {
                      "displayName": "CompanyAbbreviation",
                      "description": "Specifies the Company Abbreviation of the Resource Group"
                    }
                },
                "EnforceResourceTags-CostCenter": {
                  "type": "String",
                  "metadata": {
                    "displayName": "CostCenter",
                    "description": "Specifies the CostCenter of the Resource Group"
                  }
                },
                "EnforceResourceTags-ServiceOwner": {
                    "type": "String",
                    "metadata": {
                      "displayName": "ServiceOwner",
                      "description": "Specifies the Service Owner of the Resource Group"
                    }
                },
                "EnforceResourceTags-ServiceOwnerBackup": {
                  "type": "String",
                  "metadata": {
                    "displayName": "ServiceOwnerBackup",
                    "description": "Specifies the Backup Service Owner  of the Resource Group"
                  }
                },
                "EnforceResourceTags-ApprovalReference": {
                    "type": "String",
                    "metadata": {
                      "displayName": "ApprovalReference",
                      "description": "Specifies the Approval Reference that the Resource Group"
                    }
                },
                "EnforceResourceTags-OperationalTeam": {
                  "type": "String",
                  "metadata": {
                    "displayName": "OperationalTeam",
                    "description": "Specifies the Operational Team of the Resource Group"
                  }
                },
                "EnforceResourceTags-DataClassification": {
                    "type": "String",
                    "metadata": {
                      "displayName": "DataClassification",
                      "description": "Specifies the Data Classification of the Resource Group"
                    }     
                },       
                "EnforceResourceTags-BusinessCriticality": {
                    "type": "String",
                    "metadata": {
                      "displayName": "BusinessCriticality",
                      "description": "Specifies the Business Criticality of the Resource Group"
                    }
                },
                "EnforceResourceTags-Environment": {
                    "type": "String",
                    "metadata": {
                      "displayName": "Environment",
                      "description": "Specifies the Environment of the Resource Group"
                    }
                },
                "EnforceResourceTags-ServiceNumber": {
                  "type": "String",
                  "metadata": {
                    "displayName": "ServiceNumber",
                    "description": "Specifies the ServiceNumber of the Resource Group"
                  }
                },
                "EnforceResourceTags-ServiceName": {
                    "type": "String",
                    "metadata": {
                      "displayName": "ServiceName",
                      "description": "Specifies the ServiceName of the Resource Group"
                    }
                }
            }
        }
    }